<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" routerLink="/bucketlist">Bucketlist</a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default"><i class="fa fa-search"></i> Search</button>
      </form>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-user"></i> User <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a routerLink="/create_bucketlist">Create Bucketlist</a></li>
            <li class="divider"></li>
            <li><a routerLink="/logout">Logout</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">
      <div class="col-md-4 col-sm-6" *ngFor="let item of allItems">
        <div class="card-container manual-flip">
          <div class="card">
            <div class="front">
              <div class="cover">
                  <img src="https://www.clipartsgram.com/image/124089475-california-beaches-tumblr-wallpaper-3.jpg"/>
              </div><!-- end cover -->
              <div class="content">
                <div class="main text-center">
                    <h3 class="name">{{item.item_name}}</h3>
                    <p class="profession">{{item.date_created}}</p>
                    <p class="text-center">{{item.done ? 'DONE': 'INCOMPLETE'}}</p>
                    <button class="btn btn-sm btn-success" data-toggle="modal" [attr.data-target]="'#'+item.item_id">update item</button>
                    <button class="btn btn-sm btn-info text-center" (click)="deletItem(item.item_id)">Delete item</button>
                </div>
                <div class="footer">
                    <button class="btn btn-primary" onclick="rotateCard(this)">
                        <i class="fa fa-mail-forward"></i> View details
                    </button>
                </div>
              </div><!-- end content -->
            </div><!-- end front panel -->
            <div class="back">
              <div class="header">
                  <h5 class="motto">BUCKETLIST ITEM</h5>
              </div>
               <div class="content">
                  <div class="main">
                      <h4 class="text-center">Description</h4>
                      <p class="text-center">{{item.description}}</p>
                  </div>
              </div>
              <div class="footer">
                  <button class="btn btn-warning pull-left item-buttons" rel="tooltip" title="Flip Card" onclick="rotateCard(this)">
                      <i class="fa fa-reply"></i> Back
                  </button>

                  <button *ngIf="item.done == true" class="btn btn-danger pull-right item-buttons" rel="tooltip" title="Flip Card"
                          (click)="updateItem(item.item_id, 'False', item_name.value, item_description.value)">
                      <i class="fa fa-close"></i> Undo
                  </button>
                  <button *ngIf="item.done == false" class="btn btn-success pull-right item-buttons" rel="tooltip" title="Flip Card"
                          (click)="updateItem(item.item_id, 'True', item_name.value, item_description.value)">
                      <i class="fa fa-check"></i> Done
                  </button>
              </div><!-- end footer -->
            </div><!-- end back panel -->
          </div><!-- end card -->
        </div><!-- end card-container -->

        <!-- Modal -->
          <div class="modal fade" [attr.id]="item.item_id" role="dialog">
            <div class="modal-dialog">

              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Update {{item.item_name}}</h4>
                </div>
                <div class="modal-body">
                  <form class="form-horizontal" (submit)="updateItem(item.item_id, item.done, item_name.value, item_description.value)">
                    <fieldset>
                      <!-- Form Name -->
                      <legend>Update bucketlist item</legend>

                      <div class="form-group">
                        <label class="col-md-4 control-label" for="item_name">Item Name</label>
                        <div class="col-md-7">
                          <input id="item_name" #item_name name="item_name" type="text" placeholder="Name" class="form-control input-md" required="" value={{item.item_name}}
                            >
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="col-md-4 control-label" for="item_description">Item Name</label>
                        <div class="col-md-7">
                          <textarea id="item_description" #item_description name="item_description" class="form-control input-md" placeholder="Description" rows="5" required="" value="{{item.description}}"
                            ></textarea>
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="col-md-4 control-label"></label>
                        <div class="col-md-7">
                          <button id="update_item" name="Update_Item" type="submit" class="btn btn-primary"><i class="fa fa-send-o"></i> Update</button>
                        </div>
                      </div>
                    </fieldset>
                  </form>
                </div>
              </div>

            </div>
          </div><!-- end of modal -->

        </div><!-- end col sm 3 -->
        <!--<div class="col-md-9 col-sm-8" *ngIf="allItems.length == 0">-->
          <!--<div class="card-container manual-flip">-->
            <!--<div class="card">-->
              <!--<div class="front">-->
                <!--<div class="cover">-->
                  <!--<img src="../../img/coverpage/sky-diving.jpg"/>-->
                <!--</div>-->
                <!--<div class="content">-->
                  <!--<div class="main text-center">-->
                    <!--<h3 class="name">No item was added</h3>-->
                    <!--<p class="text-center">-->
                      <!--Add item to bucketlist to start-->
                    <!--</p>-->
                  <!--</div>-->
                  <!--<div class="footer">-->
                    <!--<button class="btn btn-primary" routerLink="/bucketlist" >-->
                      <!--<i class="fa fa-plus"></i> Create item-->
                    <!--</button>-->
                  <!--</div>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->
        <!--</div>-->
      </div><!-- end col-sm-10 -->
  </div><!-- end row -->
</div><!-- end container -->
